<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=Description content="a bunch of stuff brook reads, writes, and watches. also a blog."><title>CSS - dill &amp; fennel</title><link rel=icon type=image/png href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#603ad0><meta name=msapplication-TileColor content=#000000><meta name=theme-color content=#603ad0><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://www.brookshelley.com/tags/css/index.xml title="dill & fennel"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro&:wght@566;700&family=Quicksand:wght@300;400;700&display=swap" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://www.brookshelley.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://www.brookshelley.com/css/main.css><link rel=stylesheet type=text/css href=https://www.brookshelley.com/css/dark.css media="(prefers-color-scheme: dark)"></head><body><div class="container wrapper"><div class=header><h1 class=site-title><a href=https://www.brookshelley.com/><img class=logo src=/666.png alt="thanks helen" height=66 width=66>dill &amp; fennel</a></h1><div class=site-description></div><nav class=nav><ul class=flat><li class=flat><a href=/books>read</a></li><li class=flat><a href=/movies>watched</a></li><li class=flat><a href=/writing>wrote</a></li></ul></nav><hr></div><div class=post-header><h1 class=title>Blog Redesign</h1></div><div class=markdown><p>My personal site <a href=https://medium.com/@brookshelley/why-i-built-a-markdown-book-blog-a07e1a6dd163>started off</a> as a way to keep track of books and movies I’d read and watched outside of the world of Goodreads or other ad-based sites. I’ve lost lots of data in the past, and ultimately it’s just much easier to keep text portable and backed-up when it’s a <code>.txt</code> or <code>.md</code></p><p>In the ensuing years, I’ve written a few blog posts, and listed tons of books and movies but I hadn’t done much with my site’s structure or design besides moving my static site generator from <a href=https://jekyllrb.com>Jekyll</a> to <a href=https://gohugo.io>Hugo</a> on a whim last year. I can’t say that I like Go templating any better than Ruby, but I can struggle through both of them. With a site publishing workflow that automatically builds and deploys from Github using Github Actions, I’m set on the backend front, and decided to give my front end skills a dusting-off from my days in CSS 1.0 land.</p><h2 id=a-start-at-design>A start at design</h2><p>My initial foray into the design of the site was just to use an off-the-shelf theme called <a href=https://themes.gohugo.io/ezhil/>Ezhil</a>, which worked pretty well for a while. Sure, there were creaky bits, and a lot of extraneous things I didn’t care for, but it was easy to install, and use, so I went for it. Hugo and Jekyll, and even <a href=https://www.11ty.dev>Eleventy</a> (if you’re a JS person) have dozens of fantastic themes and templates from folks far more talented at CSS than myself, but I’ve found my site doesn’t feel like it’s mine until I’ve done some under the hood tinkering.</p><h2 id=a-long-week>A long week</h2><p>With a three day work week, I got the jones for change. I’d tweaked the initial theme a bit to iron out features I didn’t like, but ultimately I think I made a bit of a mess of the site until now. Inspired by <a href=https://frankchimero.com/blog/2020/redesign-wrapping-up/>Frank Chimero’s long redesign process</a> I decided to radically simplify my site, and try to get a total load time of under two seconds. I accomplished both of my goals, but I have a way to go before I’m fully happy with the type and margins. Fortunately, I learned a lot o CSS tricks along the way, and even dipped my toes into CSS Grid in <a href=https://github.com/brookshelley/brookshelley>another repo</a>.</p><h2 id=fonts-hierarchy>Fonts &amp; hierarchy</h2><p>For this 2020 version of my site, I moved to <a href=https://fonts.adobe.com/fonts/quicksand>Quicksand</a> as my sans-serif, and decided to add <a href=https://fonts.adobe.com/fonts/source-serif>Source Serif Pro</a> to make reading longer content like this much easier. As someone who is very much <em>not</em> a designer, I <em>think</em> the two go together ok, but hopefully my actual designer friends will give me feedback at some point to save me from any <em>fauxnt pas</em>.</p><p>For header elements, I tried to let them breathe with a big top and bottom margin. I couldn’t stomach the full 4em that Frank Chimero uses on his site, but 2em felt nice enough, especially on my iPhone. Since I was regularly testing this site on light and dark modes, on my iPad, MacBook, and iPhone, I was able to work out a lot of responsive kinks along the way.</p><p>Honestly, I’m happy I figured out most of the margins and centering CSS amongst the tangle of elements. While I was dealing with my site’s code, a friend reminded me “hell is other people’s CSS,” and that will ring in my head until I inevitably replace all of the elements and classes in <code>main.css</code>. It’s frustrating not always knowing what changes will actually be reflected in the browser due to confusing nested values. More on this in the future along with potential font changes.</p><h2 id=simpler-menus>Simpler menus</h2><p>In his redesign blog, Frank talked about removing his reading and music lists by relocating them to <a href=https://www.notion.so/Reading-Log-3341e831fc744130bf536a54cd79ec56>Notion</a>. This isn’t a terrible idea, and I definitely like the added simplicity of his menus because of it, but my priority remains holding onto plain text versions of my lists, so that’s out for me. I thought about ways of auto-populating them when I write my media diets, but outside of a few ideas around templating I have stuck to manually copying over items for those posts. Perhaps there isn’t a need for media diets and exhaustive lists to exist? For now, I’ll keep the two lists in my top level nav, with secondary links in the media diet section.</p><h2 id=light-is-fast>Light is fast</h2><p>To hit my goal of an under two second load time, I gutted a few javascript files, before realizing I didn’t need them at all. Instead of <code>feather.min.js</code>, I just inlined the few SVG icons I wanted, and threw them in my footer partial. Bingo bango.</p><p>I dug into my CSS file and tried to remove everything that’s not necessary, and during the aforementioned margin struggle that meant dozens of lines of code. I also managed to bring down the total site size by 10s of Mb by using <a href=https://imageoptim.com/mac>Image Optim</a> to do what it says on the tin. <a href=https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/automating-image-optimization/>This post</a> is a really great read if you want to dig further into image optimization, or learn just how bloated your site might actually be.</p><p>At the end of all of my optimizing and spring-cleaning, I hit 1.9s of load time, with a responsive design that works in light or dark mode (though light mode doesn’t get SVG icons yet because I got sleepy). I’m pretty proud of the <a href="https://lighthouse-dot-webdotdevsite.appspot.com//lh/html?url=https%3A%2F%2Fwww.brookshelley.com">results I got on web.dev</a> at the end of all my hard work, but I still need to sort out a more efficient caching strategy for a few odds and ends.</p><h2 id=what-i-learned>What I learned</h2><p>Ultimately, I re-learned that in the year 2020, the fastest way to build a website is still to use mostly static HTML and CSS, and ditch the JavaScript completely. Web fonts are still weird, though it turns out doing <a href=https://csswizardry.com/2020/05/the-fastest-google-fonts/>preloading</a> can help a bit with speed. Hopefully I’ll figure out a few more things about margins, padding, and site hierarchy as I keep tweaking this design, but I’m pretty happy with how it looks so far.</p></div><div class=post-tags><nav class="nav tags"><ul class=flat><li><a href=/tags/css>CSS</a></li><li><a href=/tags/design>design</a></li></ul></nav></div><div class=footer><ul class=flat><li><a href=/index.xml title=rss><img src=/rss.svg alt="rss icon" height=20 width=20></a></li><li><a href=https://twitter.com/brookshelley title=rss><img src=/twitter.svg alt="twitter icon" height=20 width=20></a></li><li><a href=https://buttondown.email/brookshelley title=newsletter><img src=/mail.svg alt="rss icon" height=20 width=20></a></li><li><a href=https://github.com/brookshelley title=github><img src=/github.svg alt="github icon" height=20 width=20></a></li><li><a href=/about title=about><img src=/info.svg alt="info icon" height=20 width=20></a></li></ul>brook 2020</div></div></body></html>